{"ast":null,"code":"import { createAction, createSlice } from \"@reduxjs/toolkit\";\nimport Decimal from \"decimal.js\";\nexport const addToCart = createAction(\"cart/add\");\nexport const deleteFromCart = createAction(\"cart/delete\");\nexport const handleQuantity = createAction(\"cart/quantity\");\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    cartItems: [],\n    totalAmount: new Decimal(0)\n  },\n  reducers: {\n    [addToCart.type]: (state, action) => {\n      const newItem = action.payload;\n      const existingItem = state.cartItems.find(u => u.id === newItem.id);\n      if (existingItem) {\n        existingItem.quantity = existingItem.quantity.plus(new Decimal(newItem.quantity || 1));\n      } else {\n        state.cartItems.push({\n          ...newItem,\n          quantity: new Decimal(newItem.quantity || 1)\n        });\n      }\n      state.totalAmount = state.totalAmount.plus(new Decimal(newItem.price).times(newItem.quantity || 1));\n    },\n    [deleteFromCart.type]: (state, action) => {\n      const deletedItem = state.cartItems.find(u => u.id === action.payload);\n      if (deletedItem) {\n        state.cartItems = state.cartItems.filter(u => u.id !== action.payload);\n        state.totalAmount = state.totalAmount.minus(new Decimal(deletedItem.price).times(deletedItem.quantity || 1));\n      }\n    }\n  }\n});\nexport const {\n  reducer\n} = cartSlice;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createAction","createSlice","Decimal","addToCart","deleteFromCart","handleQuantity","cartSlice","name","initialState","cartItems","totalAmount","reducers","type","state","action","newItem","payload","existingItem","find","u","id","quantity","plus","push","price","times","deletedItem","filter","minus","reducer"],"sources":["D:/Node.js/e-comm/frontend/src/store/slices/cartSlice.jsx"],"sourcesContent":["import { createAction, createSlice } from \"@reduxjs/toolkit\";\r\nimport Decimal from \"decimal.js\";\r\n\r\nexport const addToCart = createAction(\"cart/add\");\r\nexport const deleteFromCart = createAction(\"cart/delete\");\r\nexport const handleQuantity = createAction(\"cart/quantity\");\r\n\r\nconst cartSlice = createSlice({\r\n    name: \"cart\",\r\n    initialState: {\r\n        cartItems: [],\r\n        totalAmount: new Decimal(0)\r\n    },\r\n    reducers: {\r\n        [addToCart.type]: (state, action) => {\r\n            const newItem = action.payload;\r\n            const existingItem = state.cartItems.find(u => u.id === newItem.id);\r\n\r\n            if (existingItem) {\r\n                existingItem.quantity = existingItem.quantity.plus(new Decimal(newItem.quantity || 1));\r\n            } else {\r\n                state.cartItems.push({ ...newItem, quantity: new Decimal(newItem.quantity || 1) });\r\n            }\r\n\r\n            state.totalAmount = state.totalAmount.plus(new Decimal(newItem.price).times(newItem.quantity || 1));\r\n        },\r\n        [deleteFromCart.type]: (state, action) => {\r\n            const deletedItem = state.cartItems.find(u => u.id === action.payload);\r\n\r\n            if (deletedItem) {\r\n                state.cartItems = state.cartItems.filter(u => u.id !== action.payload);\r\n                state.totalAmount = state.totalAmount.minus(new Decimal(deletedItem.price).times(deletedItem.quantity || 1));\r\n            }\r\n        },\r\n    },\r\n});\r\n\r\nexport const { reducer } = cartSlice;\r\nexport default cartSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,WAAW,QAAQ,kBAAkB;AAC5D,OAAOC,OAAO,MAAM,YAAY;AAEhC,OAAO,MAAMC,SAAS,GAAGH,YAAY,CAAC,UAAU,CAAC;AACjD,OAAO,MAAMI,cAAc,GAAGJ,YAAY,CAAC,aAAa,CAAC;AACzD,OAAO,MAAMK,cAAc,GAAGL,YAAY,CAAC,eAAe,CAAC;AAE3D,MAAMM,SAAS,GAAGL,WAAW,CAAC;EAC1BM,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACVC,SAAS,EAAE,EAAE;IACbC,WAAW,EAAE,IAAIR,OAAO,CAAC,CAAC;EAC9B,CAAC;EACDS,QAAQ,EAAE;IACN,CAACR,SAAS,CAACS,IAAI,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;MACjC,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9B,MAAMC,YAAY,GAAGJ,KAAK,CAACJ,SAAS,CAACS,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE,CAAC;MAEnE,IAAIH,YAAY,EAAE;QACdA,YAAY,CAACI,QAAQ,GAAGJ,YAAY,CAACI,QAAQ,CAACC,IAAI,CAAC,IAAIpB,OAAO,CAACa,OAAO,CAACM,QAAQ,IAAI,CAAC,CAAC,CAAC;MAC1F,CAAC,MAAM;QACHR,KAAK,CAACJ,SAAS,CAACc,IAAI,CAAC;UAAE,GAAGR,OAAO;UAAEM,QAAQ,EAAE,IAAInB,OAAO,CAACa,OAAO,CAACM,QAAQ,IAAI,CAAC;QAAE,CAAC,CAAC;MACtF;MAEAR,KAAK,CAACH,WAAW,GAAGG,KAAK,CAACH,WAAW,CAACY,IAAI,CAAC,IAAIpB,OAAO,CAACa,OAAO,CAACS,KAAK,CAAC,CAACC,KAAK,CAACV,OAAO,CAACM,QAAQ,IAAI,CAAC,CAAC,CAAC;IACvG,CAAC;IACD,CAACjB,cAAc,CAACQ,IAAI,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;MACtC,MAAMY,WAAW,GAAGb,KAAK,CAACJ,SAAS,CAACS,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKN,MAAM,CAACE,OAAO,CAAC;MAEtE,IAAIU,WAAW,EAAE;QACbb,KAAK,CAACJ,SAAS,GAAGI,KAAK,CAACJ,SAAS,CAACkB,MAAM,CAACR,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKN,MAAM,CAACE,OAAO,CAAC;QACtEH,KAAK,CAACH,WAAW,GAAGG,KAAK,CAACH,WAAW,CAACkB,KAAK,CAAC,IAAI1B,OAAO,CAACwB,WAAW,CAACF,KAAK,CAAC,CAACC,KAAK,CAACC,WAAW,CAACL,QAAQ,IAAI,CAAC,CAAC,CAAC;MAChH;IACJ;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEQ;AAAQ,CAAC,GAAGvB,SAAS;AACpC,eAAeA,SAAS,CAACuB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}